"use strict";(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[917],{6917:function(e,s,r){r.r(s),r.d(s,{default:function(){return R}});var o=r(5671),t=r(3144),i=r(136),n=r(4104),l=r(390),c=r(9439),a="ProfileInfo_descriptionBlock__Vvbrq",u="ProfileInfo_imageContainer__+NGyj",d="ProfileInfo_uploadButton__tGYrU",h="ProfileInfo_photos__cdQ2l",p="ProfileInfo_contact__2bCGh",f=r(5982),j=r(2559),x=function(e){var s=(0,l.useState)(!1),r=(0,c.Z)(s,2),o=r[0],t=r[1],i=(0,l.useState)(e.status),n=(0,c.Z)(i,2),a=n[0],u=n[1];(0,l.useEffect)((function(){u(e.status)}),[e.status]);return(0,j.jsxs)("div",{children:[!o&&(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"\u0421\u0442\u0430\u0442\u0443\u0441:"}),(0,j.jsx)("span",{onDoubleClick:function(){t(!0)},children:a||"----"})]}),o&&(0,j.jsx)("div",{children:(0,j.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},autoFocus:!0,value:a,onBlur:function(){t(!1),e.updateUserStatus(a)}})})]})},v=r(8478),b=r(5370),g=function(e){var s=e.contactTitle,r=e.contactValue;return(0,j.jsxs)("div",{className:p,children:[(0,j.jsx)("b",{children:s}),": ",r]})},m="ProfileBlock_editButton__Crn-J",A=function(e){var s=e.profile,r=e.isOwner,o=e.goToEditMode;return(0,j.jsxs)("div",{children:[r&&(0,j.jsx)("div",{children:(0,j.jsx)("button",{onClick:o,className:m,children:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044e \u043e \u0441\u0435\u0431\u0435 *"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f:"})," ",s.fullName]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"})," ",s.lookingForAJob?"\u0438\u0449\u0443":"\u041d\u0435 \u0438\u0449\u0443)"]}),s.lookingForAJob&&(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"\u041c\u043e\u0438 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438:"})," ",s.lookingForAJobDescription]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435"}),": ",s.aboutMe]}),(0,j.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"})," ",Object.keys(s.contacts).map((function(e){return(0,j.jsx)(g,{contactTitle:e,contactValue:s.contacts[e]},e)}))]})]})},k=r(1413),y=r(2163),P=r(82),F=r(3350),N=r(9805),S=r(3922),Z=r(5609),J=r(2949),_=function(e){var s=e.profile,r=e.goToEditMode,o=(0,Z.TL)(),t=(0,y.TA)({initialValues:{fullName:s.fullName,lookingForAJob:s.lookingForAJob,lookingForAJobDescription:s.lookingForAJobDescription,aboutMe:s.aboutMe,contacts:s.contacts},onSubmit:function(e){o((0,J.Ii)(e)).then((function(){r()})).catch((function(e){console.log(e)}))},validate:function(e){return{}}});return(0,j.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,j.jsx)("div",{children:(0,j.jsx)(P.Z,{type:"submit",variant:"contained",color:"success",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"\u041f\u043e\u043b\u043d\u043e\u0435 \u0438\u043c\u044f:"}),(0,j.jsxs)("div",{children:[(0,j.jsx)(F.Z,(0,k.Z)({margin:"none",size:"small",error:t.touched.fullName&&!!t.errors.fullName},t.getFieldProps("fullName"))),t.touched.fullName&&t.errors.fullName&&(0,j.jsx)("div",{style:{color:"red"},children:t.errors.fullName})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443:"}),(0,j.jsxs)("div",{children:[(0,j.jsx)(N.Z,{label:"\u0418\u0449\u0443 \u0440\u0430\u0431\u043e\u0442\u0443",control:(0,j.jsx)(S.Z,(0,k.Z)({checked:t.values.lookingForAJob},t.getFieldProps("lookingForAJob")))}),t.touched.lookingForAJob&&t.errors.lookingForAJob&&(0,j.jsx)("div",{style:{color:"red"},children:t.errors.lookingForAJob})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"\u041c\u043e\u0438 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438:"}),(0,j.jsxs)("div",{children:[(0,j.jsx)(F.Z,(0,k.Z)({margin:"none",size:"small",error:t.touched.lookingForAJobDescription&&!!t.errors.lookingForAJobDescription},t.getFieldProps("lookingForAJobDescription"))),t.touched.lookingForAJobDescription&&t.errors.lookingForAJobDescription&&(0,j.jsx)("div",{style:{color:"red"},children:t.errors.lookingForAJobDescription})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435:"}),(0,j.jsxs)("div",{children:[(0,j.jsx)(F.Z,(0,k.Z)({placeholder:"aboutMe",margin:"none",size:"small",error:t.touched.aboutMe&&!!t.errors.aboutMe},t.getFieldProps("aboutMe"))),t.touched.aboutMe&&t.errors.aboutMe&&(0,j.jsx)("div",{style:{color:"red"},children:t.errors.aboutMe})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("b",{children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b:"})," ",Object.keys(s.contacts).map((function(e){return(0,j.jsxs)("div",{className:p,children:[(0,j.jsxs)("b",{children:[e,":"]}),(0,j.jsxs)("div",{children:[(0,j.jsx)(F.Z,(0,k.Z)({placeholder:e,margin:"none",size:"small",error:t.touched.contacts&&!!t.errors.contacts},t.getFieldProps("contacts."+e))),t.touched.contacts&&t.errors.contacts&&(0,j.jsx)("div",{style:{color:"red"},children:t.errors.contacts})]})]},e)}))]})]})]})},M=function(e){var s=e.profile,r=e.status,o=e.updateUserStatus,t=e.isOwner,i=e.savePhoto,n=(0,l.useRef)(null),p=(0,l.useState)(!1),g=(0,c.Z)(p,2),m=g[0],k=g[1];if(!s)return(0,j.jsx)(f.p,{});return(0,j.jsx)("div",{children:(0,j.jsxs)("div",{className:a,children:[(0,j.jsxs)("div",{className:u,children:[(0,j.jsx)("img",{alt:"",className:h,src:s.photos.large||v}),t&&(0,j.jsxs)("div",{className:d,children:[(0,j.jsx)("button",{onClick:function(){var e;return null===(e=n.current)||void 0===e?void 0:e.click()},children:(0,j.jsx)("img",{src:b,alt:""})}),(0,j.jsx)("input",{ref:n,type:"file",onChange:function(e){var s;null!==(s=e.target.files)&&void 0!==s&&s.length&&i(e.target.files[0])},style:{display:"none"}})]})]}),m?(0,j.jsx)(_,{profile:s,goToEditMode:function(){k(!1)}}):(0,j.jsx)(A,{profile:s,isOwner:t,goToEditMode:function(){k(!0)}}),(0,j.jsx)(x,{status:r,updateUserStatus:o})]})})},O=r(2522),U="MyPosts_postsBlock__rckFr",E="MyPosts_posts__L+iAS",w="Post_item__rs4ej",D=function(e){return(0,j.jsxs)("div",{className:w,children:[(0,j.jsx)("img",{src:"https://avatars.mds.yandex.net/i?id=1dd689a2061aafd4147897ff59e5ee46e78084ca-9181203-images-thumbs&n=13"}),e.message,(0,j.jsx)("div",{children:(0,j.jsx)("span",{children:e.like})})]})},C=function(){var e=(0,Z.TL)(),s=(0,y.TA)({initialValues:{post:""},onSubmit:function(r){e((0,J.q2)(r.post)),s.resetForm({values:{post:""}})},validate:function(e){var s={};return e.post?e.post.length>100&&(s.post="Must not be more 100 symbols"):s.post="Required",s}});return(0,j.jsxs)("form",{onSubmit:s.handleSubmit,children:[(0,j.jsxs)("div",{children:[(0,j.jsx)(F.Z,(0,k.Z)({margin:"normal",error:s.touched.post&&!!s.errors.post},s.getFieldProps("post"))),s.touched.post&&s.errors.post&&(0,j.jsx)("div",{style:{color:"red"},children:s.errors.post})]}),(0,j.jsx)("div",{children:(0,j.jsx)("button",{type:"submit",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0441\u0442"})})]})},Q=(0,O.$j)((function(e){return{posts:e.profilePage.postsData}}),(function(e){return{}}))((function(e){var s=e.posts.map((function(e,s){return(0,j.jsx)(D,{message:e.message,like:e.like},s)}));return(0,j.jsxs)("div",{className:U,children:["My post",(0,j.jsx)(C,{}),(0,j.jsx)("div",{className:E,children:s})]})})),B="Profile_wrapperBlockProfile__BpDmK",T=function(e){var s=e.profile,r=e.status,o=e.updateUserStatus,t=e.isOwner,i=e.savePhoto;return(0,j.jsxs)("div",{className:B,children:[(0,j.jsx)(M,{savePhoto:i,isOwner:t,profile:s,status:r,updateUserStatus:o}),(0,j.jsx)(Q,{})]})},I=r(5545);var G,z=r(5605),V=function(e){(0,i.Z)(r,e);var s=(0,n.Z)(r);function r(){return(0,o.Z)(this,r),s.apply(this,arguments)}return(0,t.Z)(r,[{key:"refreshProfile",value:function(){var e=this.props.id;e||(e="28717"),e&&(this.props.setUserInfo(e),this.props.getUserStatus(e))}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,s,r){this.props.id!==e.id&&this.refreshProfile()}},{key:"render",value:function(){return this.props.isAuth?(0,j.jsx)(T,{isOwner:!this.props.id,profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,savePhoto:this.props.savePhoto}):(0,j.jsx)(I.Fg,{to:"/login"})}}]),r}(l.Component),R=(0,z.e)((0,O.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth}}),{setUserInfo:J.ps,getUserStatus:J.Tq,updateUserStatus:J.OL,savePhoto:J.Ju})((G=V,function(e){var s=(0,I.UO)(),r=Object.assign({},e);return s?(0,j.jsx)(G,(0,k.Z)((0,k.Z)({},r),{},{id:s.id})):(0,j.jsx)(G,(0,k.Z)((0,k.Z)({},r),{},{id:"28717"}))})))},5605:function(e,s,r){r.d(s,{e:function(){return u}});var o=r(1413);function t(e,s){if(null==e)return{};var r,o,t=function(e,s){if(null==e)return{};var r,o,t={},i=Object.keys(e);for(o=0;o<i.length;o++)r=i[o],s.indexOf(r)>=0||(t[r]=e[r]);return t}(e,s);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)r=i[o],s.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(t[r]=e[r])}return t}r(390);var i=r(5545),n=r(2522),l=r(2559),c=["isAuth"],a=function(e){return{isAuth:e.auth.isAuth}};function u(e){return(0,n.$j)(a)((function(s){var r=s.isAuth,n=t(s,c);return r?(0,l.jsx)(e,(0,o.Z)({},n)):(0,l.jsx)(i.Fg,{to:"/login"})}))}},5370:function(e){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAABk0lEQVR4Xu2YjW2DMBCF3wgd4UboCGzQbgAbNBuUEbpBRkg3yAgZgRE6QssTuMH2GcgPcEj+pCcEPuA745AoQCaTWZuizblN029Lb9Q4n21+lfC4eVLyu2hiSt50E5p8g+6zwG04ZqqJlLz049yabWJK3sF9c01o8j+I5R0CvYnDoGY1NHnXwOugLkQQN8H9VUnJz22iQHzOamjyFGbCY1oTgvgJXIYFS5KSpygz1YQglmfKQc1ijMk7xppgNPmaJy6NJk8ZGdQ4Uk2Ex0zKO7QmwtSueEnukXeMNVFfy5bjEXki2Mma1xBk+fuoEN94N/IkvPmu5PnW2K08KeDf/NsbTSMwIE/e4Qt8+cMqAiPy5IDbJASG5AlnfChSeaM+AmPy5ARf5s0f/kdgUJ6c4QtxSVV96jZHdE1qv284vjnarM5JDSOEYnNS80QraEsjFdZyiZmiwnUZcXtBt+aP6Gb6o6/hN/YLT8hkMrYocdub6Flp8KQ/tnih8OJrhRP3MFvMvkuDJ1Bhm6fAiauQyWRG+QNESd7fKwOixgAAAABJRU5ErkJggg=="},8478:function(e,s,r){e.exports=r.p+"static/media/user.6d40eeb802b2e2d598cc.jpg"}}]);
//# sourceMappingURL=917.bdbc5f82.chunk.js.map
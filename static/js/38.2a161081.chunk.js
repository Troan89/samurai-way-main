/*! For license information please see 38.2a161081.chunk.js.LICENSE.txt */
(self.webpackChunksamurai_way=self.webpackChunksamurai_way||[]).push([[38],{8038:function(e,n,t){"use strict";t.r(n),t.d(n,{UsersContainerAPI:function(){return L},default:function(){return K}});var r=t(5671),o=t(3144),i=t(136),s=t(4104),u=t(390),a=t(2522),c=t(8805),l=t(5982),f=t(8028),p=t(9439),d=t(4942),v=t(1413),g=t(3433);function h(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected a function, instead received ".concat(typeof e);if("function"!==typeof e)throw new TypeError(n)}function y(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected an object, instead received ".concat(typeof e);if("object"!==typeof e)throw new TypeError(n)}var m=function(e){return Array.isArray(e)?e:[e]};function w(e){var n=Array.isArray(e[0])?e[0]:e;return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"expected all items to be functions, instead received the following types: ";if(!e.every((function(e){return"function"===typeof e}))){var t=e.map((function(e){return"function"===typeof e?"function ".concat(e.name||"unnamed","()"):typeof e})).join(", ");throw new TypeError("".concat(n,"[").concat(t,"]"))}}(n,"createSelector expects all input-selectors to be functions, but received the following types: "),n}function j(e,n){for(var t=[],r=e.length,o=0;o<r;o++)t.push(e[o].apply(null,n));return t}Symbol(),Object.getPrototypeOf({});var P="undefined"!==typeof WeakRef?WeakRef:function(){function e(n){(0,r.Z)(this,e),this.value=n}return(0,o.Z)(e,[{key:"deref",value:function(){return this.value}}]),e}();function x(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={s:0,v:void 0,o:null,p:null},o=t.resultEqualityCheck,i=0;function s(){for(var t=r,s=arguments.length,u=0,a=s;u<a;u++){var c=arguments[u];if("function"===typeof c||"object"===typeof c&&null!==c){var l=t.o;null===l&&(t.o=l=new WeakMap);var f=l.get(c);void 0===f?(t={s:0,v:void 0,o:null,p:null},l.set(c,t)):t=f}else{var p=t.p;null===p&&(t.p=p=new Map);var d=p.get(c);void 0===d?(t={s:0,v:void 0,o:null,p:null},p.set(c,t)):t=d}}var v,g=t;if(1===t.s?v=t.v:(v=e.apply(null,arguments),i++),g.s=1,o){var h,y,m,w=null!==(h=null===(y=n)||void 0===y||null===(m=y.deref)||void 0===m?void 0:m.call(y))&&void 0!==h?h:n;null!=w&&o(w,v)&&(v=w,0!==i&&i--);var j="object"===typeof v&&null!==v||"function"===typeof v;n=j?new P(v):v}return g.v=v,v}return s.clearCache=function(){r={s:0,v:void 0,o:null,p:null},s.resetResultsCount()},s.resultsCount=function(){return i},s.resetResultsCount=function(){i=0},s}function b(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var o="function"===typeof e?{memoize:e,memoizeOptions:t}:e,i=function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];var r,i=0,s=0,u={},a=n.pop();"object"===typeof a&&(u=a,a=n.pop()),h(a,"createSelector expects an output function after the inputs, but received: [".concat(typeof a,"]"));var c=(0,v.Z)((0,v.Z)({},o),u),l=c.memoize,f=c.memoizeOptions,p=void 0===f?[]:f,d=c.argsMemoize,y=void 0===d?x:d,P=c.argsMemoizeOptions,b=void 0===P?[]:P,C=(c.devModeChecks,m(p)),U=m(b),S=w(n),z=l.apply(void 0,[function(){return i++,a.apply(null,arguments)}].concat((0,g.Z)(C))),k=y.apply(void 0,[function(){s++;var e=j(S,arguments);return r=z.apply(null,e)}].concat((0,g.Z)(U)));return Object.assign(k,{resultFunc:a,memoizedResultFunc:z,dependencies:S,dependencyRecomputations:function(){return s},resetDependencyRecomputations:function(){s=0},lastResult:function(){return r},recomputations:function(){return i},resetRecomputations:function(){i=0},memoize:l,argsMemoize:y})};return Object.assign(i,{withTypes:function(){return i}}),i}var C=b(x),U=Object.assign((function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:C;y(e,"createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ".concat(typeof e));var t=Object.keys(e),r=t.map((function(n){return e[n]})),o=n(r,(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return n.reduce((function(e,n,r){return e[t[r]]=n,e}),{})}));return o}),{withTypes:function(){return U}}),S=C((function(e){return e.usersPage.users}),(function(e){return e})),z=function(e){return e.usersPage.pageSize},k=function(e){return e.usersPage.totalUsersCount},_=function(e){return e.usersPage.currentPage},I=function(e){return e.usersPage.isFetching},A=function(e){return e.usersPage.followingInProgress},O="Paginator_paginator__6oLIA",Z="Paginator_pageNumber__1E9hM",F="Paginator_selectedPage__k0CKS",M=t(7715),R=t.n(M),E=t(2559),N=function(e){for(var n=e.pageSize,t=e.onPageChanged,r=e.currentPage,o=e.totalItemsCount,i=e.portionSize,s=void 0===i?10:i,a=Math.ceil(o/n),c=[],l=1;l<=a;l++)c.push(l);var f=Math.ceil(a/s),v=(0,u.useState)(1),g=(0,p.Z)(v,2),h=g[0],y=g[1],m=(h-1)*s+1,w=h*s;return(0,E.jsxs)("div",{className:O,children:[h>1&&(0,E.jsx)("button",{onClick:function(){return y(h-1)},children:"Prev"}),c.filter((function(e){return e>=m&&e<=w})).map((function(e){return(0,E.jsxs)("span",{className:R()((0,d.Z)({},F,r===e),Z),onClick:function(){return t(e)},children:[" ",e," "]},e)})),f>h&&(0,E.jsx)("button",{onClick:function(){return y(h+1)},children:"Next"})]})},T="Users_usersPhoto__4rm95",W=t(8478),q=t(5400),B=function(e){var n=e.user,t=e.unfollowUser,r=e.followUser,o=e.followingInProgress;return(0,E.jsxs)("div",{children:[(0,E.jsxs)("span",{children:[(0,E.jsx)("div",{children:(0,E.jsx)(q.OL,{to:"/profile/".concat(n.id),children:(0,E.jsx)("img",{src:null!=n.photos.small?n.photos.small:W,className:T})})}),(0,E.jsx)("div",{children:n.followed?(0,E.jsx)("button",{onClick:function(){t(n.id)},disabled:o.some((function(e){return e===n.id})),children:"Unfollow"}):(0,E.jsx)("button",{onClick:function(){r(n.id)},disabled:o.some((function(e){return e===n.id})),children:"Follow"})})]}),(0,E.jsxs)("span",{children:[(0,E.jsxs)("span",{children:[(0,E.jsxs)("div",{children:[" ",n.name," "]}),(0,E.jsxs)("div",{children:[" ",n.status," "]})]}),(0,E.jsxs)("span",{children:[(0,E.jsx)("div",{children:"user.location.country"}),(0,E.jsx)("div",{children:"user.location.city"})]})]})]})},D=function(e){var n=e.pageSize,t=e.totalUserCount,r=e.currentPage,o=e.onPageChanged,i=e.unfollowUser,s=e.followUser,u=e.users,a=e.followingInProgress;return(0,E.jsxs)("div",{children:[(0,E.jsx)(N,{pageSize:n,totalItemsCount:t,currentPage:r,onPageChanged:o,portionSize:10}),(0,E.jsx)("div",{children:u.map((function(e){return(0,E.jsx)(B,{user:e,followingInProgress:a,unfollowUser:i,followUser:s},e.id)}))})]})},L=function(e){(0,i.Z)(t,e);var n=(0,s.Z)(t);function t(){var e;(0,r.Z)(this,t);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return(e=n.call.apply(n,[this].concat(i))).onPageChanged=function(n){var t=e.props.pageSize;e.props.getUsers(n,t)},e}return(0,o.Z)(t,[{key:"componentDidMount",value:function(){var e=this.props,n=e.currentPage,t=e.pageSize;this.props.getUsers(n,t)}},{key:"render",value:function(){return(0,E.jsxs)(E.Fragment,{children:[this.props.isFetching?(0,E.jsx)(l.p,{}):null,(0,E.jsx)(D,{totalUserCount:this.props.totalUserCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,users:this.props.users,onPageChanged:this.onPageChanged,followingInProgress:this.props.followingInProgress,unfollowUser:this.props.unfollowUser,followUser:this.props.followUser})]})}}]),t}(u.Component),K=(0,f.qC)((0,a.$j)((function(e){return{users:S(e),pageSize:z(e),totalUserCount:k(e),currentPage:_(e),isFetching:I(e),followingInProgress:A(e)}}),{setIsFetching:c.BB,setIsFollowingProgress:c.bd,getUsers:c.Rf,unfollowUser:c.F6,followUser:c.P_}))(L)},7715:function(e,n){var t;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],n=0;n<arguments.length;n++){var t=arguments[n];if(t){var i=typeof t;if("string"===i||"number"===i)e.push(t);else if(Array.isArray(t)){if(t.length){var s=o.apply(null,t);s&&e.push(s)}}else if("object"===i)if(t.toString===Object.prototype.toString)for(var u in t)r.call(t,u)&&t[u]&&e.push(u);else e.push(t.toString())}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(t=function(){return o}.apply(n,[]))||(e.exports=t)}()},8478:function(e,n,t){"use strict";e.exports=t.p+"static/media/user.6d40eeb802b2e2d598cc.jpg"}}]);
//# sourceMappingURL=38.2a161081.chunk.js.map